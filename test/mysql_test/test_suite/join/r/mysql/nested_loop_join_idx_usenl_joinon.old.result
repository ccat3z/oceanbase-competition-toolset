merge happens
drop table if exists tbl1,tbl2;
create table tbl1 (i1 int, v2 varchar(80), i3 char(20),i4 float, d4 datetime(6),i5 decimal(5,3), primary key(i3));
create table tbl2 (i1 int, v2 varchar(80), i3 char(20),i4 float, d4 datetime(6), i5 decimal(5,3), primary key(i3));
create index idx1 on tbl1(i1);
create index idx2 on tbl2(i1);
alter system major freeze;
insert into tbl1 values(1,'now','haha1',1.6256,'2014-05-04 12:00:00',-10.235);
insert into tbl1 values(2,'now','haha2',-1.6256,'2014-05-04 12:00:00',1.243);
insert into tbl1 values(3,'now','haha3',1.656,'2014-05-04 12:00:00',-1.45);
insert into tbl2 values(1,'now','haha1',1.6256,'2014-05-04 12:00:00',3.45);
insert into tbl2 values(2,'now1','haha2',1.6256,'2014-05-04 12:00:00',-0.25);
insert into tbl2 values(3,'now2','haha3',1.6256,'2014-05-04 12:00:00',0.253);
insert into tbl2 values(1,'now3','haha4',1.6256,'2014-05-04 12:00:00',1.677);
select /*+ USE_NL(tbl1) */   * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl1) */   * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 ;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
1	now	haha1	1.6256	2014-05-04 12:00:00	-10.235	1	now	haha1	1.6256	2014-05-04 12:00:00	3.45
2	now	haha2	-1.6256	2014-05-04 12:00:00	1.243	2	now1	haha2	1.6256	2014-05-04 12:00:00	-0.25
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
1	now	haha1	1.6256	2014-05-04 12:00:00	-10.235	1	now3	haha4	1.6256	2014-05-04 12:00:00	1.677
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 ;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl2) */   * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select /*+ USE_NL(tbl2) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl2" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl2) */   * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 ;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
1	now	haha1	1.6256	2014-05-04 12:00:00	-10.235	1	now	haha1	1.6256	2014-05-04 12:00:00	3.45
1	now	haha1	1.6256	2014-05-04 12:00:00	-10.235	1	now3	haha4	1.6256	2014-05-04 12:00:00	1.677
2	now	haha2	-1.6256	2014-05-04 12:00:00	1.243	2	now1	haha2	1.6256	2014-05-04 12:00:00	-0.25
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select /*+ USE_NL(tbl2) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 ;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl2" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl3) */   * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 ;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
1	now	haha1	1.6256	2014-05-04 12:00:00	-10.235	1	now	haha1	1.6256	2014-05-04 12:00:00	3.45
1	now	haha1	1.6256	2014-05-04 12:00:00	-10.235	1	now3	haha4	1.6256	2014-05-04 12:00:00	1.677
2	now	haha2	-1.6256	2014-05-04 12:00:00	1.243	2	now1	haha2	1.6256	2014-05-04 12:00:00	-0.25
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select /*+ USE_NL(tbl3) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 ;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl3) */   * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2 ;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select /*+ USE_NL(tbl3) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2 ;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl2" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl3) */  * from tbl2,tbl1 where tbl2.v2=tbl1.v2 and tbl1.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
1	now	haha1	1.6256	2014-05-04 12:00:00	3.45	3	now	haha3	1.656	2014-05-04 12:00:00	-1.45
explain  select /*+ USE_NL(tbl3) */  * from tbl2,tbl1 where tbl2.v2=tbl1.v2 and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
test alias 
select /*+ USE_NL(tbl1) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1 and a.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain  select  /*+ USE_NL(tbl1) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1 and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(a) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1 and a.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain select /*+ USE_NL(a) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1 and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "b" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select  /*+ USE_NL(tbl1) */  tbl1.i1,tbl1.v2,b.i1,b.v2 from tbl1 ,tbl2 b where tbl1.i1=b.i1 and tbl1.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain select  /*+ USE_NL(tbl1) */   a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1 and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl1) */ tbl1.i1,tbl1.v2,b.i1,b.v2 from tbl1 ,tbl2 b where tbl1.i1=b.i1 and tbl1.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain select  /*+ USE_NL(tbl1) */   tbl1.i1,tbl1.v2,b.i1,b.v2 from tbl1 ,tbl2 b where tbl1.i1=b.i1 and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
test join with self 
select /*+ USE_NL(tbl1) */  * from tbl1 as i00 join tbl1  on  tbl1.i1=i00.i1 and tbl1.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now	haha3	1.656	2014-05-04 12:00:00	-1.45
explain select  /*+ USE_NL(tbl1) */  * from tbl1 as i00 join tbl1  on  tbl1.i1=i00.i1 and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl1) */  * from tbl1 as i00 join tbl1 on  tbl1.v2=i00.v2 and tbl1.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
1	now	haha1	1.6256	2014-05-04 12:00:00	-10.235	3	now	haha3	1.656	2014-05-04 12:00:00	-1.45
2	now	haha2	-1.6256	2014-05-04 12:00:00	1.243	3	now	haha3	1.656	2014-05-04 12:00:00	-1.45
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now	haha3	1.656	2014-05-04 12:00:00	-1.45
explain select /*+ USE_NL(tbl1) */   * from tbl1 as i00 join tbl1  on tbl1.v2=i00.v2 and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
test null in  join condition 
insert into tbl1 values(null,'now','haha',1.6256,'2014-05-04 12:00:00',-10.235);
insert into tbl2 values(null,'now','haha',1.6256,'2014-05-04 12:00:00',3.45);
select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1 is null and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "idx1" },
                "child_operators":  [ {
                    "PHY_TABLE_SCAN_USE_INDEX":  {
                      "PHY_RPC_SCAN":  {
                        "PHY_RPC_SCAN":  {
                          "scan_plan":  {
                            "plan":  {
                              "plan":  {
                                "main_query":  {
                                  "PHY_FILTER":  { },
                                  "child_operators":  [ {
                                      "PHY_PROJECT":  { },
                                      "child_operators":  [ {
                                          "PHY_RENAME":  { },
                                          "child_operators":  [ {
                                              "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } },
                      "PHY_DATA_TABLE_GET":  {
                        "plan":  {
                          "plan":  {
                            "main_query":  {
                              "PHY_PROJECT":  { },
                              "child_operators":  [ {
                                  "PHY_TABLET_GET_V2":  { }, } ] }, } } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1 is null and tbl1.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on (tbl1.i1=tbl2.i1) and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
test index condition in where order 
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.v2=tbl2.v2 and tbl1.i1=2 and tbl1.v2='now' and  (tbl1.i1=tbl2.i1) and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "idx2" },
                "child_operators":  [ {
                    "PHY_TABLE_SCAN_USE_INDEX":  {
                      "PHY_RPC_SCAN":  {
                        "PHY_RPC_SCAN":  {
                          "scan_plan":  {
                            "plan":  {
                              "plan":  {
                                "main_query":  {
                                  "PHY_FILTER":  { },
                                  "child_operators":  [ {
                                      "PHY_PROJECT":  { },
                                      "child_operators":  [ {
                                          "PHY_RENAME":  { },
                                          "child_operators":  [ {
                                              "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } },
                      "PHY_DATA_TABLE_GET":  {
                        "plan":  {
                          "plan":  {
                            "main_query":  {
                              "PHY_PROJECT":  { },
                              "child_operators":  [ {
                                  "PHY_TABLET_GET_V2":  { }, } ] }, } } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "idx1" },
                "child_operators":  [ {
                    "PHY_TABLE_SCAN_USE_INDEX":  {
                      "PHY_RPC_SCAN":  {
                        "PHY_RPC_SCAN":  {
                          "scan_plan":  {
                            "plan":  {
                              "plan":  {
                                "main_query":  {
                                  "PHY_FILTER":  { },
                                  "child_operators":  [ {
                                      "PHY_PROJECT":  { },
                                      "child_operators":  [ {
                                          "PHY_RENAME":  { },
                                          "child_operators":  [ {
                                              "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } },
                      "PHY_DATA_TABLE_GET":  {
                        "plan":  {
                          "plan":  {
                            "main_query":  {
                              "PHY_PROJECT":  { },
                              "child_operators":  [ {
                                  "PHY_TABLET_GET_V2":  { }, } ] }, } } } }, } ] } ] } ] } ] } }
explain select  /*+ USE_NL(tbl1) */  count(*) from tbl1 join tbl2 on tbl1.v2='now' and  (tbl1.i1=tbl2.i1) and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_SCALAR_AGGREGATE":  { },
        "child_operators":  [ {
            "PHY_FILTER":  { },
            "child_operators":  [ {
                "PHY_NESTED_LOOP_JOIN":  {
                  "right_name": "tbl1" },
                "child_operators":  [ {
                    "PHY_INDEX_SELECTOR":  {
                      "USE_INDEX": "idx2" },
                    "child_operators":  [ {
                        "PHY_INDEX_SCAN":  {
                          "PHY_RPC_SCAN":  {
                            "scan_plan":  {
                              "plan":  {
                                "plan":  {
                                  "main_query":  {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                    "PHY_INDEX_SELECTOR":  {
                      "USE_INDEX": "tbl1" },
                    "child_operators":  [ {
                        "PHY_TABLE_RPC_SCAN_IMPL":  {
                          "PHY_RPC_SCAN":  {
                            "scan_plan":  {
                              "plan":  {
                                "plan":  {
                                  "main_query":  {
                                    "PHY_FILTER":  { },
                                    "child_operators":  [ {
                                        "PHY_PROJECT":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on (tbl1.v2=tbl2.v2 and tbl1.i1=2 and tbl1.v2='now') and  (tbl1.i1=tbl2.i1) and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "idx2" },
                "child_operators":  [ {
                    "PHY_TABLE_SCAN_USE_INDEX":  {
                      "PHY_RPC_SCAN":  {
                        "PHY_RPC_SCAN":  {
                          "scan_plan":  {
                            "plan":  {
                              "plan":  {
                                "main_query":  {
                                  "PHY_FILTER":  { },
                                  "child_operators":  [ {
                                      "PHY_PROJECT":  { },
                                      "child_operators":  [ {
                                          "PHY_RENAME":  { },
                                          "child_operators":  [ {
                                              "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } },
                      "PHY_DATA_TABLE_GET":  {
                        "plan":  {
                          "plan":  {
                            "main_query":  {
                              "PHY_PROJECT":  { },
                              "child_operators":  [ {
                                  "PHY_TABLET_GET_V2":  { }, } ] }, } } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "idx1" },
                "child_operators":  [ {
                    "PHY_TABLE_SCAN_USE_INDEX":  {
                      "PHY_RPC_SCAN":  {
                        "PHY_RPC_SCAN":  {
                          "scan_plan":  {
                            "plan":  {
                              "plan":  {
                                "main_query":  {
                                  "PHY_FILTER":  { },
                                  "child_operators":  [ {
                                      "PHY_PROJECT":  { },
                                      "child_operators":  [ {
                                          "PHY_RENAME":  { },
                                          "child_operators":  [ {
                                              "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } },
                      "PHY_DATA_TABLE_GET":  {
                        "plan":  {
                          "plan":  {
                            "main_query":  {
                              "PHY_PROJECT":  { },
                              "child_operators":  [ {
                                  "PHY_TABLET_GET_V2":  { }, } ] }, } } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.v2=tbl2.v2 and (tbl1.i1=2 and tbl1.v2='now' and  tbl1.i1=tbl2.i1) and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "idx2" },
                "child_operators":  [ {
                    "PHY_TABLE_SCAN_USE_INDEX":  {
                      "PHY_RPC_SCAN":  {
                        "PHY_RPC_SCAN":  {
                          "scan_plan":  {
                            "plan":  {
                              "plan":  {
                                "main_query":  {
                                  "PHY_FILTER":  { },
                                  "child_operators":  [ {
                                      "PHY_PROJECT":  { },
                                      "child_operators":  [ {
                                          "PHY_RENAME":  { },
                                          "child_operators":  [ {
                                              "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } },
                      "PHY_DATA_TABLE_GET":  {
                        "plan":  {
                          "plan":  {
                            "main_query":  {
                              "PHY_PROJECT":  { },
                              "child_operators":  [ {
                                  "PHY_TABLET_GET_V2":  { }, } ] }, } } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "idx1" },
                "child_operators":  [ {
                    "PHY_TABLE_SCAN_USE_INDEX":  {
                      "PHY_RPC_SCAN":  {
                        "PHY_RPC_SCAN":  {
                          "scan_plan":  {
                            "plan":  {
                              "plan":  {
                                "main_query":  {
                                  "PHY_FILTER":  { },
                                  "child_operators":  [ {
                                      "PHY_PROJECT":  { },
                                      "child_operators":  [ {
                                          "PHY_RENAME":  { },
                                          "child_operators":  [ {
                                              "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } },
                      "PHY_DATA_TABLE_GET":  {
                        "plan":  {
                          "plan":  {
                            "main_query":  {
                              "PHY_PROJECT":  { },
                              "child_operators":  [ {
                                  "PHY_TABLET_GET_V2":  { }, } ] }, } } } }, } ] } ] } ] } ] } }
use column alias 
test join in ps'
prepare st from select /*+ USE_NL(tbl1) */   * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1=? and tbl1.i1>2;
set @a=1;
execute st using @a;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
test union,except,... 
select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select /*+ USE_NL(tbl1) */  * from tbl1 join tbl2 on tbl1.i1=tbl2.i1 and tbl1.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl1" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
test hint,condition use primary 
select /*+ INDEX(t1 primary) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1  and a.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain select /*+ USE_NL(tbl1) *, *+ INDEX(tb1 primary) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl1) *,  *+ INDEX(tb2 primary) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl1) *,  *+ INDEX(tb1 idx1) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl1) *,  *+ INDEX(tb2 idx2) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
test hint,use not exist index 
select /*+ USE_NL(tbl1) *,  *+ INDEX(t1 idx3) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.v2=b.v2 and a.i1>2;
i1	v2	i1	v2
3	now	NULL	now
3	now	1	now
explain select /*+ USE_NL(tbl1) *,  *+ INDEX(t1 idx3) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.v2=b.v2 and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl1) *,  *+ INDEX(t1 idx3) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1 and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
test when index is invalid 
drop table if exists tbl10,tbl20;
create table tbl10 (i1 int, v2 varchar(80), i3 char(20),i4 float, d4 datetime(6),i5 decimal(5,3), primary key(i3));
create table tbl20 (i1 int, v2 varchar(80), i3 char(20),i4 float, d4 datetime(6), i5 decimal(5,3), primary key(i3));
create index idx10 on tbl10(i1);
create index idx20 on tbl20(i1);
insert into tbl10 values(1,'now','haha1',1.6256,'2014-05-04 12:00:00',-10.235);
insert into tbl10 values(2,'now','haha2',-1.6256,'2014-05-04 12:00:00',1.243);
insert into tbl10 values(3,'now','haha3',1.656,'2014-05-04 12:00:00',-1.45);
insert into tbl20 values(1,'now','haha1',1.6256,'2014-05-04 12:00:00',3.45);
insert into tbl20 values(2,'now','haha2',1.6256,'2014-05-04 12:00:00',-0.25);
insert into tbl20 values(3,'now2','haha3',1.6256,'2014-05-04 12:00:00',0.253);
insert into tbl20 values(1,'now3','haha4',1.6256,'2014-05-04 12:00:00',1.677);
select  /*+ USE_NL(tbl10) */ * from tbl10,tbl20 where tbl10.i1=tbl20.i1 and tbl10.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select /*+ USE_NL(tbl10) */  * from tbl10,tbl20 where tbl10.i1=tbl20.i1 and tbl10.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl10) */ a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1 and a.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain  select /*+ USE_NL(tbl10) */  a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1 and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl10) */  tbl10.i1,tbl10.v2,b.i1,b.v2 from tbl10 ,tbl20 b where tbl10.i1=b.i1 and tbl10.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain  select /*+ USE_NL(tbl10) */  tbl10.i1,tbl10.v2,b.i1,b.v2 from tbl10 ,tbl20 b where tbl10.i1=b.i1 and tbl10.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl10) *, *+ INDEX(tb1 primary) */  a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl10) *,*+ INDEX(tb2 primary) */  a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl10) *,*+ INDEX(tb1 idx1) */  a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl10) *,*+ INDEX(tb2 idx2) */  a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_MERGE_JOIN":  { },
        "child_operators":  [ {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] }, {
            "PHY_SORT":  { },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
alter system major freeze;
select  /*+ USE_NL(tbl10) */  * from tbl10,tbl20 where tbl10.i1=tbl20.i1 and tbl10.i1>2;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha3	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha3	1.6256	2014-05-04 12:00:00	0.253
explain select   /*+ USE_NL(tbl10) */  * from tbl10,tbl20 where tbl10.i1=tbl20.i1 and tbl10.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl10" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select  /*+ USE_NL(tbl10) */ a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1 and a.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain select /*+ USE_NL(tbl10) */  a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1 and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select /*+ USE_NL(tbl10) */  tbl10.i1,tbl10.v2,b.i1,b.v2 from tbl10 ,tbl20 b where tbl10.i1=b.i1 and tbl10.i1>2;
i1	v2	i1	v2
3	now	3	now2
explain select /*+ USE_NL(tbl10) */ tbl10.i1,tbl10.v2,b.i1,b.v2 from tbl10 ,tbl20 b where tbl10.i1=b.i1 and tbl10.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl10" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl10) *, *+ INDEX(tb1 primary) */  a.i1,a.v2,b.i1,b.v2 from tbl10 a,tbl20 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "a" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl20" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl10" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl10) *, *+ INDEX(tb2 primary) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "b" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl10) *, *+ INDEX(tb1 idx1) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "b" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
explain select /*+ USE_NL(tbl10) *, *+ INDEX(tb2 idx2) */  a.i1,a.v2,b.i1,b.v2 from tbl1 a,tbl2 b where a.i1=b.i1  and a.i1>2;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "b" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl1" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_RENAME":  { },
                                        "child_operators":  [ {
                                            "PHY_TABLET_SCAN_V2":  { }, } ] } ] } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl2" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_RENAME":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
test muti columns index 
drop table if exists tbl3,tbl4;
create table tbl3 (i1 int, v2 varchar(80), i3 char(20),i4 float, d4 datetime(6),i5 decimal(5,3), primary key(i1,i3));
create table tbl4 (i1 int, v2 varchar(80), i3 char(20),i4 float, d4 datetime(6), i5 decimal(5,3), primary key(i1,i3));
create index idx1 on tbl3(i1,v2,i3,d4);
create index idx2 on tbl4(i1,v2,i3,d4);
alter system major freeze;
insert into tbl3 values(1,'now','haha',1.6256,'2014-05-04 12:00:00',-10.235);
insert into tbl3 values(2,'now','haha',-1.6256,'2014-05-04 12:00:00',1.243);
insert into tbl3 values(3,'now','haha',1.656,'2014-05-04 12:00:00',-1.45);
insert into tbl4 values(1,'now','haha',1.6256,'2014-05-04 12:00:00',3.45);
insert into tbl4 values(2,'now','haha',1.6256,'2014-05-04 12:00:00',-0.25);
insert into tbl4 values(3,'now2','haha',1.6256,'2014-05-04 12:00:00',0.253);
insert into tbl4 values(4,'now3','haha',1.6256,'2014-05-04 12:00:00',-1.45);
where condition hava first column of index,not have all index columns 
select  /*+ USE_NL(tbl3) */ * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and tbl3.i1>2 and tbl3.i4>1.25;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
3	now	haha	1.656	2014-05-04 12:00:00	-1.45	3	now2	haha	1.6256	2014-05-04 12:00:00	0.253
explain select  /*+ USE_NL(tbl3) */ * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and tbl3.i1>2 and tbl3.i4>1.25;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl3" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl4" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl3" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select   /*+ USE_NL(tbl3) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and tbl3.i1>2 and tbl3.i4>1.25;
i1	v2	i3	i4	d4	i5	i1	v2	i3	i4	d4	i5
explain select  /*+ USE_NL(tbl3) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and tbl3.i1>2 and tbl3.i4>1.25;
Query Plan
 {
  "main_query":  {
    "PHY_PROJECT":  { },
    "child_operators":  [ {
        "PHY_FILTER":  { },
        "child_operators":  [ {
            "PHY_NESTED_LOOP_JOIN":  {
              "right_name": "tbl3" },
            "child_operators":  [ {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl4" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_PROJECT":  { },
                                "child_operators":  [ {
                                    "PHY_TABLET_SCAN_V2":  { }, } ] }, } }, } } }, } ] }, {
                "PHY_INDEX_SELECTOR":  {
                  "USE_INDEX": "tbl3" },
                "child_operators":  [ {
                    "PHY_TABLE_RPC_SCAN_IMPL":  {
                      "PHY_RPC_SCAN":  {
                        "scan_plan":  {
                          "plan":  {
                            "plan":  {
                              "main_query":  {
                                "PHY_FILTER":  { },
                                "child_operators":  [ {
                                    "PHY_PROJECT":  { },
                                    "child_operators":  [ {
                                        "PHY_TABLET_SCAN_V2":  { }, } ] } ] }, } }, } } }, } ] } ] } ] } ] } }
select  /*+ USE_NL(tbl3,tbl4) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and  tbl3.i4=tbl4.i4 and tbl3.i1>2 and tbl3.i4>1.25;
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your OceanBase version for the right syntax to use near ',tbl4) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and  tbl3' at line 1
explain select  /*+ USE_NL(tbl3,tbl4) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and  tbl3.i4=tbl4.i4 and tbl3.i3>2 and tbl3.i4>1.25;
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your OceanBase version for the right syntax to use near ',tbl4) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and  tbl3' at line 1
select  /*+ USE_NL(tbl3 tbl4) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and  tbl3.i4=tbl4.i4 and tbl3.i1>2 and tbl3.i4>1.25;
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your OceanBase version for the right syntax to use near 'tbl4) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and  tbl3.' at line 1
explain select  /*+ USE_NL(tbl3 tbl4) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and  tbl3.i4=tbl4.i4 and tbl3.i3>2 and tbl3.i4>1.25;
ERROR 42000: You have an error in your SQL syntax; check the manual that corresponds to your OceanBase version for the right syntax to use near 'tbl4) */  * from tbl3,tbl4 where tbl3.i1=tbl4.i1 and  tbl3.v2=tbl4.v2 and  tbl3.' at line 1
