--disable_warnings
drop table if exists t1;
--enable_warnings
CREATE TABLE `t1` (
`c1` int(11) NOT NULL,
`c2` int(11) DEFAULT NULL,
`c3` timestamp NULL DEFAULT NULL,
`c4` timestamp NULL DEFAULT NULL,
PRIMARY KEY (`c1`),
KEY `t1_c2_c3` (`c2`, `c3`),
KEY `t1_c2` (`c2`)
);

insert into t1 values(  1 ,    2 , '2016-07-22 00:52:15' , '2016-07-22 00:52:15' )
,(  2 ,    3 , '2016-07-22 00:52:23' , '2016-07-22 00:52:23' )
,(  3 ,    3 , '2016-07-22 00:52:26' , '2016-07-22 00:52:26' )
,(  4 ,   10 , '2016-07-22 00:52:30' , '2016-07-22 00:52:30' )
,(  5 ,    1 , '2016-07-22 00:54:38' , '2016-07-22 00:54:38' )
,(  6 ,   61 , '2016-07-22 00:54:45' , '2016-07-22 00:54:45' )
,(  7 ,   61 , '2016-07-22 00:54:49' , '2016-07-22 00:54:49' )
,(  8 ,   61 , '2016-07-22 00:54:53' , '2016-07-22 00:54:53' )
,(  9 ,    9 , '2016-07-22 00:54:58' , '2016-07-22 00:54:58' );

select /*+ index(a t1_c2_c3) use_nl(a b) */ * from t1 a, t1 b where a.c2 > 1 and a.c1 = b.c1;

drop table t1;
